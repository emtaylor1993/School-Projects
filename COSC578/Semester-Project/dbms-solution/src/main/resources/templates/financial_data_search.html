<!--
 * FINANCIAL DATA SEARCH
 *
 * @author Emmanuel Taylor
 * @author Kwaku Addow
 * @author So Ra Jang
 * @author Leonard Tangban
 * @author Keith Maina
 *
 * @description
 *    View for the Financial Data Search Menu
-->

<html>
    <head>
        <link th:href="@{/stylesheet.css}" rel="stylesheet" type="text/css">
        <title>Financial Data Search</title>
        <script>
            function searchByEmployee() {
                selectedElement = document.querySelector('#username');
                window.location.assign("/financial_data_results/?username=" + selectedElement.value);
            }
            function clearList() {
                var x = document.getElementById("username");
                var listLength = x.length;
                for (var i = 0; i < listLength; i++) {
                  for (var j = 0; j < listLength; j++) {
                    if (x.options[i].value == x.options[j].value && i != j) {
                      x.remove(j);
                      listLength--;
                    }
                  }
                }
              }
        </script>
    </head>
    <body onLoad="clearList()">
        <div class="topnav">
            <a th:href="@{/}">Dashboard</a>
            <a th:href="@{/financial_data}">Financial Data</a>
            <a style="float:right;" th:href="@{/logout}">Logout</a>
        </div> 
        <div class="container">
            <h2>Search Financial Data By Employee</h2>
            <select name="username" id="username">
                <option value="none" selected disabled hidden>Select an Option</option>
                <option th:each="data: ${financialData}" th:value="${data.employee.username}" th:text="${data.employee.username}"></option>
            </select>
            <br><br>
            <button type="button" class="profile" style="width:45%;" th:onclick="searchByEmployee()">Search</button>
        </div>
    </body>
</html>